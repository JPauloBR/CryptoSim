{{!-- pages/portfolio.handlebars --}}
<main class="container">
    <h2>Portfolio</h2>
    <section class="row text-center placeholders">
        <div class="col-9 col-sm-9 placeholder">
            <h4 class="text-left">Profit / Loss</h4>
            <canvas id="summaryChart" width="700" height="500"></canvas>
            <div class="text-muted">Something else</div>
        </div>
        <div class="col-3 col-sm-3">
            <div class="card">
                <div class="header">
                    <h4 class="title">Net Worth</h4>
                    <div id="networth"class="big-number">Loading</div>
                </div>
                <div class="stats">
                    <i class="fa fa-chevron-up d-inline"></i>
                    <p class="small-number d-inline">15,345</p>
                </div>
            </div>
            <div class="card">
                <div class="header">
                    <h4 class="title">Top Traders</h4>
                    <div class="table-responsive text-left">
                        <table class="table table-striped">
                            <tbody>
                                <tr>
                                    <td>1</td>
                                    <td>Dave</td>
                                    <td>$119,315.56</td>
                                </tr>
                                <tr>
                                    <td class="font-weight-bold">2</td>
                                    <td class="font-weight-bold">You</td>
                                     <td class="font-weight-bold" id="rank-networth">Loading</td>
                                </tr>
                                <tr>
                                    <td>3</td>
                                    <td>Jorge</td>
                                    <td>$22,107.19</td>
                                </tr>
                                <tr>
                                    <td>4</td>
                                    <td>JP</td>
                                    <td>$19,540.50</td>
                                </tr>


                            </tbody>
                        </table>
                    </div>
                  </div>
                </div>

                <div class="card">
                    <div class="header">
                        <h4 class="title">Refer A Friend</h4>
                        <button type="button" class="btn-fill btn-wd btn btn-primary"><a href="/refer">Refer &amp; Earn</a></button>
                        <div class="stats">
                            <p>Earn $5,000</p>
                        </div>
                    </div>
                </div>
                            <div class="card">
                <div class="header">
                    <h4 class="title">You Have</h4>
                    <div id="usd-only" class="big-number">Loading...</div>
                </div>
                <div class="stats">
                    <button type="button" class="btn-fill btn-wd btn btn-primary"><a href="/market">Buy Coins</a></button>
                    <p></p>
                </div>
            </div>

    </section>
    <h2>Your Crypto Currencies</h2>
    <div class="table-responsive">
        <table class="table table-striped" id="portfolio-table">
            <thead>
                <tr>
                    <th>Currency Name</th>
                    <th>Amount of Currency</th>
                    <th>Individual Value</th>
                    <th>Total Value</th>
                    <th>Daily Change</th>
                    <th></th>
                </tr>
            </thead>
            <tbody id="portfolio-table-body">
                
            </tbody>
        </table>
    </div>

    <h2>Your Recent Trades</h2>
    <div class="table-responsive">
        <table class="table table-striped" id="trades-table">
            <thead>
                <tr>
                    <th>Date</th>
                    <th>Currency Name</th>
                    <th>Type</th>
                    <th>Individual Price ($)</th>
                    <th>Quantity</th>
                    <th>Total Value ($)</th>
                </tr>
            </thead>
            <tbody id="trades-table-body">
                
            </tbody>
        </table>
    </div>
</main>


<!-- Modal - Sell Confirmation-->
<div class="modal fade" id="modal-sell-confirm" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-sm">
        <div class="modal-content text-center">
            <h3>Purchase Confirmed</h3>
            <i class="fa fa-check fa-4x text-success"></i>
        </div>
    </div>
</div>

<!-- Sell Failure Modal -->
<div class="modal fade" id="modal-sell-fail" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-sm">
        <div class="modal-content text-center">
            <h3>Sell Failed</h3>
            <i class="fa fa-times fa-4x text-danger"></i>
            <p> You don't have enough of that currency to sell.</p>
        </div>
    </div>
</div>

<!-- Full Height Modal Right -->
<div class="modal fade right" id="modal-sell" tabindex="-1" role="dialog" aria-labelledby="Buy Modal" aria-hidden="true" data-backdrop="false">
    <div class="modal-dialog modal-full-height modal-right" role="document">
        <!--Content-->
        <div class="modal-content">
            <!--Header-->
            <div class="modal-header">
                <p class="heading lead">Sell Currency</p>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true" class="white-text">&times;</span>
                    <p></p>
                </button>
            </div>
            <!--Body-->
            <div class="modal-body">
                <p>You can sell up to USD <span id="coin-holding"> 0 </span </p>
                <form>
                    <div class="form-group">
                        <label for="sell-coinID">Currency</label>
                        <input type="text" readonly class="form-control" id="sell-coinID" value="ERROR" >
                    </div>
                    <div class="form-group">
                        <label for="sell-ccPrice">Current Price (USD)</label>
                        <input type="text" readonly class="form-control" id="sell-ccPrice" value="100" >
                    </div>
                    <div class="form-group">
                        <label for="sell-ccQuantity">Quantity to Sell</label>
                        <input type="text" class="form-control" id="sell-ccQuantity" value="10" name="ccQuantity">
                    </div>
                    <div class="form-group">
                        <label for="sell-USDValue">Sell Price (USD)</label>
                        <input type="text" class="form-control" id="sell-USDValue" value="500">
                    </div>
                    <!-- pass the user ID -->
                    <div class="form-group">
                        <input type="hidden" class="form-control" id="sell-userID" value="1">
                    </div>
                    <div class="modal-footer justify-content-center">
                        <button type="button" class="btn-fill btn-wd btn btn-primary" id="confirm-sell-order">Confirm Order <i class="fa fa-dollar ml-1"></i></button>
                    </div>
                </form>
                <!--Footer-->
            </div>
            <!--/.Content-->
        </div>
    </div>
</div>
<!-- END Full Height Modal Right -->